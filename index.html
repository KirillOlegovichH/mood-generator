<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è 1.0</title>
  <!-- –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤: -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: linear-gradient(to bottom, #c0c0c0, #808080); /* –°–µ—Ä–æ-—Å–µ—Ä–µ–±—Ä—è–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
      color: #111;
      font-family: monospace, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      height: 100vh;
      overflow: hidden;
      transition: background 0.8s;
    }
    h1 {
      letter-spacing: 1.5px;
      font-weight: 700;
      font-size: 1.5em;
      margin-bottom: 2vw;
      color: #111;
      text-align: center;
    }
    .slots {
      display: flex;
      gap: 1vw;
      margin-bottom: 2vw;
    }
    .slot {
      width: 80px;
      height: 80px;
      border: 2px solid #111;
      border-radius: 16px;
      font-size: 3em;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fff;
      transition: box-shadow 0.2s, filter 0.2s;
      filter: grayscale(1);
    }
    .slot.active {
      box-shadow: 0 0 10px #111;
    }
    .slot.finished {
      filter: none;
    }
    .btn-container {
      position: fixed;
      left: 50%;
      top: 150px;
      transfrm: translateX(-50%);
      bottom: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 0;
      width: max-content;
      height: max-content;
      z-index: 10;
      pointer-events: none;
    }
    button {
      background: #111;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px 32px;
      font-size: 1.2em;
      cursor: pointer;
      z-index: 2;
      position: relative;
      transition: opacity 0.2s;
      pointer-events: auto;
    }
    button:active {
      background: #333;
    }
    .hidden {
      opacity: 0;
      pointer-events: none;
    }
    .emoji-burst {
      position: fixed;
      left: 50%;
      bottom: 100px;
      font-size: 2em;
      pointer-events: none;
      opacity: 0;
      filter: grayscale(1) !important;
      animation: burstUp 0.9s cubic-bezier(.23,1.42,.54,1) forwards;
      z-index: 20;
    }
    @keyframes burstUp {
      0% {
        opacity: 1;
        transform: translate(-50%, 0) scale(1) rotate(0deg);
      }
      60% {
        opacity: 1;
        transform: translate(calc(-50% + var(--x)), calc(-1 * var(--y))) scale(1.3) rotate(var(--r));
      }
      100% {
        opacity: 0;
        transform: translate(calc(-50% + var(--x)), calc(-1 * (var(--y) + 120px))) scale(0.7) rotate(calc(var(--r) * 1.4));
      }
    }
    .result {
      margin-top: 1vw;
      font-size: 1.1em;
      letter-spacing: 1px;
      min-height: 1em;
      color: #fff;
      background: rgba(30,30,30,0.85);
      border-radius: 14px;
      padding: 0.5em 1.1em;
      box-shadow: 0 2px 14px 0 rgba(0,0,0,0.14), 0 1.5px 3px 0 rgba(0,0,0,0.08);
      text-align: center;
      text-transform: capitalize;
      display: inline-block;
      font-weight: bold;
      border: 2px solid rgba(255,255,255,0.35);
      /* For better readability on colored backgrounds */
      text-shadow: 0 1px 5px #222, 0 0 4px #000, 0 0 2px #fff;
      transition: background 0.3s, color 0.3s;
    }
    .credits {
      position: fixed;
      bottom: 8px;
      right: 8px;
      font-size: 0.9em;
      color: #bbb;
    }
  </style>
</head>
<body>
  <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</h1>
  <div class="slots">
    <div class="slot" id="slot1">ü§î</div>
    <div class="slot" id="slot2">ü§î</div>
    <div class="slot" id="slot3">ü§î</div>
  </div>
  <div class="btn-container">
    <button id="spin">–ß–ø–æ–∫</button>
  </div>
  <div class="result" id="result">–¢–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ...</div>
  <div class="credits">by KirillOlegovichH</div>
  <script>
    const emojis = [
      "üñï", "üëç", "üî•", "üëé", "üòê", "üòÇ", "üò¢", "üòé",
      "üòç", "ü§Ø", "üò¥", "ü§°", "ü•≥", "ü§¢", "ü§ñ", "üëª", "üåà",
      "üåû", "üíÄ", "‚òÄÔ∏è", "üåßÔ∏è"
    ];

    // –¶–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–º–æ–¥–∑–∏ (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç moodParts –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞)
    const emojiGradients = {
      "üñï": ["#ff4b2b", "#ff416c"],
      "üëç": ["#00c9ff", "#92fe9d"],
      "üî•": ["#f83600", "#f9d423"],
      "üëé": ["#bdc3c7", "#2c3e50"],
      "üòê": ["#eef2f3", "#8e9eab"],
      "üòÇ": ["#f7971e", "#ffd200"],
      "üò¢": ["#616161", "#9bc5c3"],
      "üòé": ["#3a6186", "#89253e"],
      "üòç": ["#ff758c", "#ff7eb3"],
      "ü§Ø": ["#7f00ff", "#e100ff"],
      "üò¥": ["#355c7d", "#6c5b7b"],
      "ü§°": ["#ffe000", "#799f0c"],
      "ü•≥": ["#f3904f", "#3b4371"],
      "ü§¢": ["#56ab2f", "#a8e063"],
      "ü•∂": ["#00c6ff", "#0072ff"],
      "ü§ñ": ["#434343", "#000000"],
      "üëª": ["#a8edea", "#fed6e3"],
      "üåà": ["#ff9a9e", "#fad0c4"],
      "üåû": ["#fbc2eb", "#a6c1ee"],
      "üíÄ": ["#000000", "#434343"],
      "‚òÄÔ∏è": ["#ffecd2", "#fcb69f"],
      "üåßÔ∏è": ["#2b5876", "#4e4376"]
    };

    const moodParts = {
      "üñï": ["–¥–µ—Ä–∑–∫–æ", "–¥–µ—Ä–∑–∫–æ", "–¥–µ—Ä–∑–∫–æ–µ"],
      "üëç": ["–ø–æ–∑–∏—Ç–∏–≤–Ω–æ", "–ø–æ–∑–∏—Ç–∏–≤–Ω–æ", "–ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ"],
      "üî•": ["–æ–≥–Ω–µ–Ω–Ω–æ", "–æ–≥–Ω–µ–Ω–Ω–æ", "–æ–≥–Ω–µ–Ω–Ω–æ–µ"],
      "üëé": ["–≤—ã—Å–∞–¥–Ω–æ", "–≤—ã—Å–∞–¥–Ω–æ", "–≤—ã—Å–∞–¥–Ω–æ–µ"],
      "üòê": ["—Å–ø–æ–∫–æ–π–Ω–æ", "—Å–ø–æ–∫–æ–π–Ω–æ", "—Å–ø–æ–∫–æ–π–Ω–æ–µ"],
      "üòÇ": ["–≤–µ—Å–µ–ª–æ", "–≤–µ—Å–µ–ª–æ", "–≤–µ—Å—ë–ª–æ–µ"],
      "üò¢": ["–≥—Ä—É—Å—Ç–Ω–æ", "–≥—Ä—É—Å—Ç–Ω–æ", "–≥—Ä—É—Å—Ç–Ω–æ–µ"],
      "üòé": ["—Å—Ç–∏–ª—å–Ω–æ", "—Å—Ç–∏–ª—å–Ω–æ", "—Å—Ç–∏–ª—å–Ω–æ–µ"],
      "üòç": ["–≤–ª—é–±–ª—ë–Ω–Ω–æ", "–≤–ª—é–±–ª—ë–Ω–Ω–æ", "–≤–ª—é–±–ª—ë–Ω–Ω–æ–µ"],
      "ü§Ø": ["—à–æ–∫–∏—Ä—É—é—â–µ", "—à–æ–∫–∏—Ä—É—é—â–µ", "—à–æ–∫–∏—Ä—É—é—â–µ–µ"],
      "üò¥": ["—Å–æ–Ω–Ω–æ", "—Å–æ–Ω–Ω–æ", "—Å–æ–Ω–Ω–æ–µ"],
      "ü§°": ["–∫–ª–æ—É–Ω—Å–∫–æ", "–∫–ª–æ—É–Ω—Å–∫–æ", "–∫–ª–æ—É–Ω—Å–∫–æ–µ"],
      "ü•≥": ["–ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ", "–ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ", "–ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ"],
      "ü§¢": ["—Ç–æ—à–Ω–æ—Ç–≤–æ—Ä–Ω–æ", "—Ç–æ—à–Ω–æ—Ç–≤–æ—Ä–Ω–æ", "—Ç–æ—à–Ω–æ—Ç–≤–æ—Ä–Ω–æ–µ"],
      "ü•∂": ["–ª–µ–¥—è–Ω–æ", "–ª–µ–¥—è–Ω–æ", "–ª–µ–¥—è–Ω–æ–µ"],
      "ü§ñ": ["—Ä–æ–±–æ—Ç–∏—á–µ—Å–∫–∏", "—Ä–æ–±–æ—Ç–∏—á–µ—Å–∫–∏", "—Ä–æ–±–æ—Ç–∏—á–µ—Å–∫–æ–µ"],
      "üëª": ["–ø—Ä–∏–∑—Ä–∞—á–Ω–æ", "–ø—Ä–∏–∑—Ä–∞—á–Ω–æ", "–ø—Ä–∏–∑—Ä–∞—á–Ω–æ–µ"],
      "üåà": ["—Ä–∞–¥—É–∂–Ω–æ", "—Ä–∞–¥—É–∂–Ω–æ", "—Ä–∞–¥—É–∂–Ω–æ–µ"],
      "üåû": ["—Å–æ–ª–Ω–µ—á–Ω–æ", "—Å–æ–ª–Ω–µ—á–Ω–æ", "—Å–æ–ª–Ω–µ—á–Ω–æ–µ"],
      "üíÄ": ["—Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ", "—Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ", "—Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ"],
      "‚òÄÔ∏è": ["–ª–µ—Ç–Ω–µ", "–ª–µ—Ç–Ω–µ", "–ª–µ—Ç–Ω–µ–µ"],
      "üåßÔ∏è": ["–¥–æ–∂–¥–ª–∏–≤–æ", "–¥–æ–∂–¥–ª–∏–≤–æ", "–¥–æ–∂–¥–ª–∏–≤–æ–µ"]
    };

    const slotEls = [
      document.getElementById('slot1'),
      document.getElementById('slot2'),
      document.getElementById('slot3')
    ];
    const spinBtn = document.getElementById('spin');
    const resultEl = document.getElementById('result');

    function randomEmoji() {
      return emojis[Math.floor(Math.random() * emojis.length)];
    }

    function spinSlots() {
      resultEl.textContent = '–¢–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ...';
      spinBtn.classList.add('hidden');
      burstEmojisFromButton();
      slotEls.forEach(slot => {
        slot.classList.remove('finished');
        slot.style.filter = "grayscale(1)";
      });
      let spins = 15;
      let currentStep = 0;
      let slotsRes = ["", "", ""];
      let interval = setInterval(() => {
        currentStep++;
        slotEls.forEach(slot => {
          slot.textContent = randomEmoji();
        });
        if (currentStep >= spins) {
          clearInterval(interval);
          slotEls.forEach((slot, index) => {
            slotsRes[index] = randomEmoji();
            slot.textContent = slotsRes[index];
            slot.classList.add('finished');
            slot.style.filter = "none";
          });
          updateBackground(slotsRes);
          showResult(slotsRes);
          setTimeout(() => {
            spinBtn.classList.remove('hidden');
          }, 100);
        }
      }, 60);
    }

    // –§–æ–Ω –∏–∑ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ —Å–ª–æ—Ç–æ–≤ (–ø–æ 2 —Ü–≤–µ—Ç–∞ –æ—Ç –∫–∞–∂–¥–æ–≥–æ)
    function updateBackground(arr) {
      const body = document.body;
      // –°–æ–±–∏—Ä–∞–µ–º –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ (–ø–æ 2 —Ü–≤–µ—Ç–∞ –æ—Ç –∫–∞–∂–¥–æ–≥–æ —ç–º–æ–¥–∑–∏)
      let colors = [];
      arr.forEach(e => {
        if (emojiGradients[e]) {
          colors.push(...emojiGradients[e]);
        }
      });
      // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —ç–º–æ–¥–∑–∏, –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º —Ü–≤–µ—Ç–∞
      colors = [...new Set(colors)];
      // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Ü–≤–µ—Ç–æ–≤ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π), —Å—Ç–∞–≤–∏–º –¥–µ—Ñ–æ–ª—Ç
      if (!colors.length) {
        body.style.background = "linear-gradient(to bottom, #c0c0c0, #808080)";
        return;
      }
      // –î–µ–ª–∞–µ–º –ø–ª–∞–≤–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –ø–æ –≤—Å–µ–º —Ü–≤–µ—Ç–∞–º —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
      body.style.background = `linear-gradient(120deg, ${colors.join(", ")})`;
    }

    function showResult(arr) {
      let moodPhrase = "";
      if (arr[0] === arr[1] && arr[1] === arr[2]) {
        moodPhrase = `–û—á–µ–Ω—å ${moodParts[arr[0]][2]}`;
      } else if (arr[0] === arr[1]) {
        moodPhrase = `–û—á–µ–Ω—å ${moodParts[arr[0]][0]}-${moodParts[arr[2]][2]}`;
      } else if (arr[0] === arr[2]) {
        moodPhrase = `–û—á–µ–Ω—å ${moodParts[arr[2]][0]}-${moodParts[arr[1]][2]}`;
      } else if (arr[1] === arr[2]) {
        moodPhrase = `–û—á–µ–Ω—å ${moodParts[arr[2]][0]}-${moodParts[arr[0]][2]}`;
      } else {
        moodPhrase = `${moodParts[arr[0]][0]}-${moodParts[arr[1]][1]}-${moodParts[arr[2]][2]}`;
      }
      resultEl.textContent = moodPhrase;
    }

    function burstEmojisFromButton() {
      for (let i = 0; i < 43; i++) {
        const emoji = document.createElement('span');
        emoji.className = 'emoji-burst';
        emoji.textContent = randomEmoji();
        const angle = (30 + Math.random() * 120) * (Math.PI / 180);
        const distance = 10 + Math.random() * 400;
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance + 80;
        const rot = (Math.random() * 90 - 45) + "deg";
        emoji.style.setProperty('--x', `${x}px`);
        emoji.style.setProperty('--y', `${y}px`);
        emoji.style.setProperty('--r', rot);
        document.body.appendChild(emoji);
        emoji.addEventListener('animationend', () => {
          emoji.remove();
        });
      }
    }

    spinBtn.addEventListener('click', spinSlots);
  </script>
</body>
</html>
